<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xmlns:svg="http://www.w3.org/2000/svg" xmlns:x86="http://www.felixcloutier.com/x86"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><link rel="stylesheet" type="text/css" href="style.css"/><a class="dashingAutolink" name="autolink-433"></a><a class="dashAnchor" name="//apple_ref/cpp/Instruction/SHUFPS"></a><title>SHUFPS</title></head><body><header><nav><ul><li><a href="index.html">Index</a></li><li>November 2018</li></ul></nav></header><h1>SHUFPS
		&mdash; Packed Interleave Shuffle of Quadruplets of Single-Precision Floating-Point Values</h1>

<table>
<tbody><tr>
<th>Opcode/Instruction</th>
<th>Op / En</th>
<th>64/32 bit Mode Support</th>
<th>CPUID Feature Flag</th>
<th>Description</th></tr>
<tr>
<td>NP 0F C6 /r ib SHUFPS xmm1, xmm3/m128, imm8</td>
<td>A</td>
<td>V/V</td>
<td>SSE</td>
<td>Select from quadruplet of single-precision floating-point values in xmm1 and xmm2/m128 using imm8, interleaved result pairs are stored in xmm1.</td></tr>
<tr>
<td>VEX.128.0F.WIG C6 /r ib VSHUFPS xmm1, xmm2, xmm3/m128, imm8</td>
<td>B</td>
<td>V/V</td>
<td>AVX</td>
<td>Select from quadruplet of single-precision floating-point values in xmm1 and xmm2/m128 using imm8, interleaved result pairs are stored in xmm1.</td></tr>
<tr>
<td>VEX.256.0F.WIG C6 /r ib VSHUFPS ymm1, ymm2, ymm3/m256, imm8</td>
<td>B</td>
<td>V/V</td>
<td>AVX</td>
<td>Select from quadruplet of single-precision floating-point values in ymm2 and ymm3/m256 using imm8, interleaved result pairs are stored in ymm1.</td></tr>
<tr>
<td>EVEX.128.0F.W0 C6 /r ib VSHUFPS xmm1{k1}{z}, xmm2, xmm3/m128/m32bcst, imm8</td>
<td>C</td>
<td>V/V</td>
<td>AVX512VL AVX512F</td>
<td>Select from quadruplet of single-precision floating-point values in xmm1 and xmm2/m128 using imm8, interleaved result pairs are stored in xmm1, subject to writemask k1.</td></tr>
<tr>
<td>EVEX.256.0F.W0 C6 /r ib VSHUFPS ymm1{k1}{z}, ymm2, ymm3/m256/m32bcst, imm8</td>
<td>C</td>
<td>V/V</td>
<td>AVX512VL AVX512F</td>
<td>Select from quadruplet of single-precision floating-point values in ymm2 and ymm3/m256 using imm8, interleaved result pairs are stored in ymm1, subject to writemask k1.</td></tr>
<tr>
<td>EVEX.512.0F.W0 C6 /r ib VSHUFPS zmm1{k1}{z}, zmm2, zmm3/m512/m32bcst, imm8</td>
<td>C</td>
<td>V/V</td>
<td>AVX512F</td>
<td>Select from quadruplet of single-precision floating-point values in zmm2 and zmm3/m512 using imm8, interleaved result pairs are stored in zmm1, subject to writemask k1.</td></tr></tbody></table>
<h2 id="instruction-operand-encoding">Instruction Operand Encoding<a class="anchor" href="SHUFPS.html#instruction-operand-encoding">
			&para;
		</a></h2>
<table>
<tbody><tr>
<td>Op/En</td>
<td>Tuple Type</td>
<td>Operand 1</td>
<td>Operand 2</td>
<td>Operand 3</td>
<td>Operand 4</td></tr>
<tr>
<td>A</td>
<td>NA</td>
<td>ModRM:reg (r, w)</td>
<td>ModRM:r/m (r)</td>
<td>Imm8</td>
<td>NA</td></tr>
<tr>
<td>B</td>
<td>NA</td>
<td>ModRM:reg (w)</td>
<td>VEX.vvvv (r)</td>
<td>ModRM:r/m (r)</td>
<td>Imm8</td></tr>
<tr>
<td>C</td>
<td>Full</td>
<td>ModRM:reg (w)</td>
<td>EVEX.vvvv (r)</td>
<td>ModRM:r/m (r)</td>
<td>Imm8</td></tr></tbody></table>
<h3 id="description">Description<a class="anchor" href="SHUFPS.html#description">
			&para;
		</a></h3>
<p>Selects a single-precision floating-point value of an input quadruplet using a two-bit control and move to a designated element of the destination operand. Each 64-bit element-pair of a 128-bit lane of the destination operand is interleaved between the corresponding lane of the first source operand and the second source operand at the granularity 128 bits. Each two bits in the imm8 byte, starting from bit 0, is the select control of the corresponding element of a 128-bit lane of the destination to received the shuffled result of an input quadruplet. The two lower elements of a 128-bit lane in the destination receives shuffle results from the quadruple of the first source operand. The next two elements of the destination receives shuffle results from the quadruple of the second source operand.</p>
<p>EVEX encoded versions: The first source operand is a ZMM/YMM/XMM register. The second source operand can be a ZMM/YMM/XMM register, a 512/256/128-bit memory location or a 512/256/128-bit vector broadcasted from a 32-bit memory location. The destination operand is a ZMM/YMM/XMM register updated according to the writemask. Imm8[7:0] provides 4 select controls for each applicable 128-bit lane of the destination.</p>
<p>VEX.256 encoded version: The first source operand is a YMM register. The second source operand can be a YMM register or a 256-bit memory location. The destination operand is a YMM register. Imm8[7:0] provides 4 select controls for the high and low 128-bit of the destination.</p>
<p>VEX.128 encoded version: The first source operand is a XMM register. The second source operand can be a XMM register or a 128-bit memory location. The destination operand is a XMM register. The upper bits (MAXVL-1:128) of the corresponding ZMM register destination are zeroed. Imm8[7:0] provides 4 select controls for each element of the destination.</p>
<p>128-bit Legacy SSE version: The source can be an XMM register or an 128-bit memory location. The destination is not distinct from the first source XMM register and the upper bits (MAXVL-1:128) of the corresponding ZMM register destination are unmodified. Imm8[7:0] provides 4 select controls for each element of the destination.</p>
<figure id="fig-4-26">
<svg style="width: 577.44pt; height: 154.94397599999994pt" viewBox="58.88 0.0 486.20000000000005 134.11997999999994">
<g xmlns="http://www.w3.org/2000/svg" style="stroke: none; fill: none">
<rect height="128.1" style="fill: rgb(0%, 0%, 0%)" width="0.48" x="61.38" y="0.479979999999955"></rect>
<rect height="128.1" style="fill: rgb(0%, 0%, 0%)" width="0.47998" x="542.1" y="0.479979999999955"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="481.20000000000005" x="61.38" y="0.0"></rect>
<rect height="0.48004" style="fill: rgb(0%, 0%, 0%)" width="481.20000000000005" x="61.38" y="128.6399399999999"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="151.44" y="93.48000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48" x="188.34" y="93.71997999999996"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="151.20000000000002" y="106.98000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48" x="151.20000000000002" y="93.47997999999995"></rect>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.14" x="225.66" y="93.71997999999996"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="225.66" y="93.48000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="262.56" y="93.71997999999996"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="225.42000000000002" y="106.98000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48" x="225.42000000000002" y="93.47997999999995"></rect>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.14" x="299.94" y="93.71997999999996"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="299.94" y="93.48000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="336.84000000000003" y="93.71997999999996"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="299.7" y="106.98000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.47998" x="299.7" y="93.47997999999995"></rect>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.08" x="374.22" y="93.71997999999996"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.32" x="374.22" y="93.48000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="411.06" y="93.71997999999996"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.32" x="373.98" y="106.98000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.47998" x="373.98" y="93.47997999999995"></rect>
<path d="M 335.1 87.17998 L 335.34000000000003 87.53998000000001 C 336.12 88.13698 337.177 87.58597999999995 337.02000000000004 86.57997999999998L 336.96000000000004 86.39998000000003 L 336.84000000000003 86.21997999999996 C 336.37100000000004 85.38297999999998 335.014 85.83298000000002 335.04 86.81997999999999L 335.04 86.99998000000005 L 335.1 87.17998" style="fill: rgb(0%, 0%, 0%); fill-rule: evenodd"></path>
<path d="M 336.0 86.81997999999999 L 337.74 90.77998000000002 L 337.98 91.37997999999993 L 337.32 91.49997999999994 L 321.84 93.53998000000001 L 320.16 93.71997999999996 L 321.48 92.63998000000004 L 333.48 82.67998 L 334.02 82.25998000000004 L 334.26 82.85997999999995 L 334.14 83.45997999999997 L 322.14 93.41998000000001 L 321.48 92.63998000000004 L 321.78 92.51998000000003 L 337.26 90.47997999999995 L 337.32 91.49997999999994 L 336.84 91.19997999999998 L 335.1 87.23997999999995" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 334.26 82.85997999999995 L 336.0 86.81997999999999 L 335.09999999999997 87.23997999999995 L 333.36 83.27997999999991" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 335.58 86.99997999999994 L 337.32 90.95997999999997 L 321.84 92.99997999999994 L 333.84 83.0399799999999" style="fill: rgb(0%, 0%, 0%); fill-rule: evenodd"></path>
<path d="M 374.64 70.97997999999995 L 373.86 69.17998 L 335.7 85.91998000000001 L 336.47999999999996 87.71997999999996" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.14" x="411.3" y="26.219979999999964"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="411.3" y="25.980000000000018"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="448.20000000000005" y="26.219979999999964"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="411.06" y="39.48000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="411.06" y="25.979979999999955"></rect>
<path d="M 416.64 82.19997999999998 L 416.82 82.01998000000003 L 416.88 81.83997999999997 C 417.202 80.87497999999994 416.312 80.21798000000001 415.44 80.63998000000004L 415.26 80.75997999999993 L 415.14 80.93997999999999 C 414.525 81.67297999999994 415.502 82.83597999999995 416.34 82.43997999999999L 416.52 82.31997999999999 L 416.64 82.19997999999998" style="fill: rgb(0%, 0%, 0%); fill-rule: evenodd"></path>
<path d="M 415.98 81.47997999999995 L 418.98 78.41998000000001 L 419.52000000000004 77.99997999999994 L 419.82 78.5399799999999 L 427.38 92.21997999999996 L 428.22 93.77997999999991 L 426.66 92.93997999999999 L 413.04 85.37997999999993 L 412.5 85.01997999999992 L 412.92 84.5399799999999 L 413.52000000000004 84.47997999999995 L 427.14000000000004 92.0399799999999 L 426.66 92.93997999999999 L 426.48 92.69997999999998 L 418.92 79.01997999999992 L 419.82 78.5399799999999 L 419.70000000000005 79.13997999999992 L 416.70000000000005 82.19997999999998" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 412.92 84.5399799999999 L 415.98 81.47997999999995 L 416.7 82.19997999999987 L 413.64000000000004 85.25997999999993" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 416.34000000000003 81.83997999999997 L 419.34000000000003 78.77998000000002 L 426.90000000000003 92.45997999999997 L 413.28000000000003 84.89997999999991" style="fill: rgb(0%, 0%, 0%); fill-rule: evenodd"></path>
<path d="M 374.94 39.059979999999996 L 373.56 40.43997999999999 L 415.32 82.19997999999998 L 416.7 80.81997999999999" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 386.22 78.17998 L 386.40000000000003 78.05998 L 386.58000000000004 77.99998000000005 L 386.70000000000005 77.81997999999999 L 386.82000000000005 77.69997999999998 L 386.88000000000005 77.51998000000003 L 386.88000000000005 76.91998000000001 L 386.76000000000005 76.73997999999995 L 386.70000000000005 76.55998 L 386.52000000000004 76.43997999999999 L 386.40000000000003 76.31997999999999 L 386.22 76.25998000000004 L 385.98 76.19997999999998 L 385.8 76.19997999999998 L 385.62 76.25998000000004 L 385.44000000000005 76.31997999999999 C 384.52900000000005 76.80097999999998 384.874 78.22198000000003 385.8 78.17998L 386.22 78.17998" style="fill: rgb(0%, 0%, 0%); fill-rule: evenodd"></path>
<path d="M 385.92 77.21997999999996 L 390.06 75.89997999999991 L 390.66 75.77997999999991 L 390.72 76.37997999999993 L 391.08000000000004 91.97997999999995 L 391.08000000000004 93.77997999999991 L 390.12 92.27997999999991 L 381.54 79.25997999999993 L 381.18 78.71997999999996 L 381.84000000000003 78.47997999999995 L 382.38 78.71997999999996 L 390.96000000000004 91.73997999999995 L 390.12 92.27997999999991 L 390.06 91.97997999999995 L 389.7 76.37997999999993 L 390.72 76.37997999999993 L 390.36 76.91998000000001 L 386.22 78.23997999999995" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 381.84000000000003 78.47997999999995 L 385.92 77.21997999999996 L 386.22 78.23997999999995 L 382.14000000000004 79.49997999999994" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 386.04 77.69997999999998 L 390.18 76.37997999999993 L 390.54 91.97997999999995 L 381.96000000000004 78.95997999999997" style="fill: rgb(0%, 0%, 0%); fill-rule: evenodd"></path>
<path d="M 375.18 39.419979999999896 L 373.26 40.01997999999992 L 384.96 77.51997999999992 L 386.88 76.9199799999999" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 364.56 81.35997999999995 L 364.74 81.47997999999995 L 364.92 81.5399799999999 C 365.747 81.84497999999996 366.601 80.76797999999997 366.0 79.97997999999995L 365.88 79.85997999999995 L 365.52 79.61997999999994 L 364.92 79.61997999999994 L 364.74 79.67998 L 364.62 79.79998 L 364.44 79.9199799999999 L 364.32 80.09997999999996 L 364.2 80.45997999999997 L 364.2 80.63997999999992 L 364.26 80.87997999999993 L 364.32 81.05998 L 364.44 81.17998 L 364.56 81.35997999999995" style="fill: rgb(0%, 0%, 0%); fill-rule: evenodd"></path>
<path d="M 365.16 80.63997999999992 L 368.46000000000004 83.39997999999991 L 368.94 83.87997999999993 L 368.40000000000003 84.17997999999989 L 355.38000000000005 92.75997999999993 L 353.94 93.71997999999996 L 354.66 92.1599799999999 L 361.14000000000004 77.99997999999994 L 361.44 77.39997999999991 L 361.92 77.81997999999987 L 362.04 78.4199799999999 L 355.56 92.57997999999998 L 354.66 92.1599799999999 L 354.84000000000003 91.9199799999999 L 367.86 83.33997999999997 L 368.40000000000003 84.17997999999989 L 367.8 84.17997999999989 L 364.5 81.4199799999999" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 361.92 77.81997999999999 L 365.16 80.63998000000004 L 364.5 81.41998000000001 L 361.26 78.59997999999996" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 364.86 80.99997999999994 L 368.16 83.75997999999993 L 355.14 92.33997999999997 L 361.62 78.17997999999989" style="fill: rgb(0%, 0%, 0%); fill-rule: evenodd"></path>
<path d="M 375.0 70.73997999999995 L 373.5 69.47997999999995 L 364.5 79.97997999999995 L 366.0 81.23997999999995" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.08" x="374.22" y="26.219979999999964"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.32" x="374.22" y="25.980000000000018"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="411.06" y="26.219979999999964"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.32" x="373.98" y="39.48000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.47998" x="373.98" y="25.979979999999955"></rect>
<path d="M 337.08 26.219979999999964 L 374.21999999999997 26.219979999999964 L 374.21999999999997 39.719979999999964 L 337.08 39.719979999999964" style="fill: rgb(100%, 100%, 100%); fill-rule: nonzero"></path>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="337.08" y="25.980000000000018"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.47998" x="373.98" y="26.219979999999964"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="336.84000000000003" y="39.48000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="336.84000000000003" y="25.979979999999955"></rect>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.14" x="299.94" y="26.219979999999964"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="299.94" y="25.980000000000018"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="336.84000000000003" y="26.219979999999964"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="299.7" y="39.48000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.47998" x="299.7" y="25.979979999999955"></rect>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.14" x="262.8" y="26.219979999999964"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="262.8" y="25.980000000000018"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.47998" x="299.7" y="26.219979999999964"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="262.56" y="39.48000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="262.56" y="25.979979999999955"></rect>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.14" x="225.66" y="26.219979999999964"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="225.66" y="25.980000000000018"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="262.56" y="26.219979999999964"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="225.42000000000002" y="39.48000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48" x="225.42000000000002" y="25.979979999999955"></rect>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.08" x="188.58" y="26.219979999999964"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.32" x="188.58" y="25.980000000000018"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48" x="225.42000000000002" y="26.219979999999964"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.32" x="188.34" y="39.48000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48" x="188.34" y="25.979979999999955"></rect>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.14" x="151.44" y="26.219979999999964"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="151.44" y="25.980000000000018"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48" x="188.34" y="26.219979999999964"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="151.20000000000002" y="39.48000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48" x="151.20000000000002" y="25.979979999999955"></rect>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.14" x="411.3" y="56.57997999999998"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="411.3" y="56.33999999999992"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="448.20000000000005" y="56.57997999999998"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="411.06" y="69.84000000000003"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="411.06" y="56.33997999999997"></rect>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.08" x="374.22" y="56.57997999999998"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.32" x="374.22" y="56.33999999999992"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="411.06" y="56.57997999999998"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.32" x="373.98" y="69.84000000000003"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.47998" x="373.98" y="56.33997999999997"></rect>
<path d="M 337.08 56.57997999999998 L 374.21999999999997 56.57997999999998 L 374.21999999999997 70.07997999999998 L 337.08 70.07997999999998" style="fill: rgb(100%, 100%, 100%); fill-rule: nonzero"></path>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="337.08" y="56.33999999999992"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.47998" x="373.98" y="56.57997999999998"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="336.84000000000003" y="69.84000000000003"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="336.84000000000003" y="56.33997999999997"></rect>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.14" x="299.94" y="56.57997999999998"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="299.94" y="56.33999999999992"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="336.84000000000003" y="56.57997999999998"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="299.7" y="69.84000000000003"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.47998" x="299.7" y="56.33997999999997"></rect>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.14" x="262.8" y="56.57997999999998"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="262.8" y="56.33999999999992"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.47998" x="299.7" y="56.57997999999998"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="262.56" y="69.84000000000003"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="262.56" y="56.33997999999997"></rect>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.14" x="225.66" y="56.57997999999998"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="225.66" y="56.33999999999992"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="262.56" y="56.57997999999998"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="225.42000000000002" y="69.84000000000003"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48" x="225.42000000000002" y="56.33997999999997"></rect>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.08" x="188.58" y="56.57997999999998"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.32" x="188.58" y="56.33999999999992"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48" x="225.42000000000002" y="56.57997999999998"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.32" x="188.34" y="69.84000000000003"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48" x="188.34" y="56.33997999999997"></rect>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.14" x="151.44" y="56.57997999999998"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="151.44" y="56.33999999999992"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48" x="188.34" y="56.57997999999998"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="151.20000000000002" y="69.84000000000003"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48" x="151.20000000000002" y="56.33997999999997"></rect>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.14" x="411.3" y="93.71997999999996"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="411.3" y="93.48000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="448.20000000000005" y="93.71997999999996"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="411.06" y="106.98000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="411.06" y="93.47997999999995"></rect>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.08" x="188.58" y="93.71997999999996"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.32" x="188.58" y="93.48000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48" x="225.42000000000002" y="93.71997999999996"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.32" x="188.34" y="106.98000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48" x="188.34" y="93.47997999999995"></rect>
<rect height="13.5" style="fill: rgb(100%, 100%, 100%)" width="37.14" x="262.8" y="93.71997999999996"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="262.8" y="93.48000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.47998" x="299.7" y="93.71997999999996"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="262.56" y="106.98000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="262.56" y="93.47997999999995"></rect>
<path d="M 337.08 93.71997999999996 L 374.21999999999997 93.71997999999996 L 374.21999999999997 107.21997999999996 L 337.08 107.21997999999996" style="fill: rgb(100%, 100%, 100%); fill-rule: nonzero"></path>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="337.08" y="93.48000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.47998" x="373.98" y="93.71997999999996"></rect>
<rect height="0.47998" style="fill: rgb(0%, 0%, 0%)" width="37.38" x="336.84000000000003" y="106.98000000000002"></rect>
<rect height="13.74" style="fill: rgb(0%, 0%, 0%)" width="0.48001000000000005" x="336.84000000000003" y="93.47997999999995"></rect>
<path d="M 186.60000000000002 87.17998 L 186.84000000000003 87.53998000000001 C 187.62000000000003 88.13698 188.67700000000002 87.58597999999995 188.52 86.57997999999998L 188.46000000000004 86.39998000000003 L 188.34000000000003 86.21997999999996 C 187.866 85.37397999999996 186.51100000000002 85.84298000000001 186.54000000000002 86.81997999999999L 186.54000000000002 86.99998000000005 L 186.60000000000002 87.17998" style="fill: rgb(0%, 0%, 0%); fill-rule: evenodd"></path>
<path d="M 187.5 86.81997999999999 L 189.24 90.77998000000002 L 189.48 91.37997999999993 L 188.82 91.49997999999994 L 173.34 93.53998000000001 L 171.66 93.71997999999996 L 172.98 92.63998000000004 L 184.98 82.67998 L 185.52 82.25998000000004 L 185.76 82.85997999999995 L 185.64 83.45997999999997 L 173.64 93.41998000000001 L 172.98 92.63998000000004 L 173.28 92.51998000000003 L 188.76 90.47997999999995 L 188.82 91.49997999999994 L 188.34 91.19997999999998 L 186.6 87.23997999999995" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 185.76 82.85997999999995 L 187.5 86.81997999999999 L 186.6 87.23997999999995 L 184.85999999999999 83.27997999999991" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 187.08 86.99997999999994 L 188.82000000000002 90.95997999999997 L 173.34 92.99997999999994 L 185.34 83.0399799999999" style="fill: rgb(0%, 0%, 0%); fill-rule: evenodd"></path>
<path d="M 226.08 70.97997999999995 L 225.3 69.17998 L 187.20000000000002 85.91998000000001 L 187.98000000000002 87.71997999999996" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 268.14 82.19997999999998 L 268.32 82.01998000000003 L 268.38 81.83997999999997 C 268.698 80.83597999999995 267.804 80.22798 266.88 80.63998000000004L 266.76 80.75997999999993 L 266.64 80.93997999999999 C 266.068 81.60097999999994 266.882 82.85097999999994 267.84 82.43997999999999L 268.02 82.31997999999999 L 268.14 82.19997999999998" style="fill: rgb(0%, 0%, 0%); fill-rule: evenodd"></path>
<path d="M 267.42 81.47997999999995 L 270.48 78.41998000000001 L 270.96000000000004 77.99997999999994 L 271.32 78.5399799999999 L 278.88 92.21997999999996 L 279.72 93.77997999999991 L 278.16 92.93997999999999 L 264.54 85.37997999999993 L 264.0 85.01997999999992 L 264.42 84.5399799999999 L 265.02000000000004 84.47997999999995 L 278.64000000000004 92.0399799999999 L 278.16 92.93997999999999 L 277.98 92.69997999999998 L 270.42 79.01997999999992 L 271.32 78.5399799999999 L 271.2 79.13997999999992 L 268.14000000000004 82.19997999999998" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 264.42 84.5399799999999 L 267.42 81.47997999999995 L 268.14000000000004 82.19997999999987 L 265.14000000000004 85.25997999999993" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 267.78000000000003 81.83997999999997 L 270.84000000000003 78.77998000000002 L 278.40000000000003 92.45997999999997 L 264.78000000000003 84.89997999999991" style="fill: rgb(0%, 0%, 0%); fill-rule: evenodd"></path>
<path d="M 226.38 39.059979999999996 L 225.0 40.43997999999999 L 266.82 82.19997999999998 L 268.2 80.81997999999999" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 237.72 78.17998 L 237.9 78.05998 L 238.02 77.99998000000005 C 238.803 77.34798 238.288 76.18298000000004 237.3 76.19997999999998L 237.12 76.25998000000004 L 236.94 76.31997999999999 C 236.029 76.80097999999998 236.374 78.22198000000003 237.3 78.17998L 237.72 78.17998" style="fill: rgb(0%, 0%, 0%); fill-rule: evenodd"></path>
<path d="M 237.42000000000002 77.21997999999996 L 241.56 75.89997999999991 L 242.16000000000003 75.77997999999991 L 242.22000000000003 76.37997999999993 L 242.58 91.97997999999995 L 242.58 93.77997999999991 L 241.62 92.27997999999991 L 233.04000000000002 79.25997999999993 L 232.68 78.71997999999996 L 233.34 78.47997999999995 L 233.88000000000002 78.71997999999996 L 242.46 91.73997999999995 L 241.62 92.27997999999991 L 241.56 91.97997999999995 L 241.20000000000002 76.37997999999993 L 242.22000000000003 76.37997999999993 L 241.86 76.91998000000001 L 237.72000000000003 78.23997999999995" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 233.34 78.47997999999995 L 237.42000000000002 77.21997999999996 L 237.72 78.23997999999995 L 233.64000000000001 79.49997999999994" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 237.54 77.69997999999998 L 241.67999999999998 76.37997999999993 L 242.04 91.97997999999995 L 233.45999999999998 78.95997999999997" style="fill: rgb(0%, 0%, 0%); fill-rule: evenodd"></path>
<path d="M 226.62 39.419979999999896 L 224.76 40.01997999999992 L 236.52 77.51997999999992 L 238.38 76.9199799999999" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 216.06 81.35997999999995 L 216.24 81.47997999999995 L 216.42000000000002 81.5399799999999 C 217.247 81.84497999999996 218.101 80.76797999999997 217.5 79.97997999999995L 217.32 79.85997999999995 L 217.2 79.73997999999995 C 216.334 79.21697999999992 215.348 80.14497999999992 215.82 81.05998L 215.88 81.17998 L 216.06 81.35997999999995" style="fill: rgb(0%, 0%, 0%); fill-rule: evenodd"></path>
<path d="M 216.66 80.63997999999992 L 219.96 83.39997999999991 L 220.44 83.87997999999993 L 219.9 84.17997999999989 L 206.88 92.75997999999993 L 205.44 93.71997999999996 L 206.16 92.1599799999999 L 212.64 77.99997999999994 L 212.94 77.39997999999991 L 213.42 77.81997999999987 L 213.54 78.4199799999999 L 207.06 92.57997999999998 L 206.16 92.1599799999999 L 206.34 91.9199799999999 L 219.35999999999999 83.33997999999997 L 219.9 84.17997999999989 L 219.29999999999998 84.17997999999989 L 216.0 81.4199799999999" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 213.42000000000002 77.81997999999999 L 216.66000000000003 80.63998000000004 L 216.00000000000003 81.41998000000001 L 212.76000000000002 78.59997999999996" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<path d="M 216.36 80.99997999999994 L 219.66000000000003 83.75997999999993 L 206.64000000000001 92.33997999999997 L 213.12 78.17997999999989" style="fill: rgb(0%, 0%, 0%); fill-rule: evenodd"></path>
<path d="M 226.44 70.73997999999995 L 224.94 69.47997999999995 L 216.0 79.97997999999995 L 217.5 81.23997999999995" style="fill: rgb(0%, 0%, 0%); fill-rule: nonzero"></path>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="9.17216670000002" x="162.54" y="36.33087779999994">X7</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="9.17216670000002" x="199.62" y="36.33087779999994">X6</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="9.17216670000002" x="236.76" y="36.33087779999994">X5</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="9.232485099999963" x="273.90000000000003" y="36.33087779999994">X4</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="9.232485099999963" x="311.04" y="36.33087779999994">X3</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="9.172166699999991" x="348.18" y="36.33087779999994">X2</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="9.172166699999991" x="385.26" y="36.33087779999994">X1</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="9.172166699999991" x="422.40000000000003" y="36.33087779999994">X0</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="20.0294787" x="131.46132451999995" y="37.95081829999992">SRC1</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="9.17216670000002" x="162.54" y="66.7508777999999">Y7</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="9.17216670000002" x="199.62" y="66.7508777999999">Y6</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="9.17216670000002" x="236.76" y="66.7508777999999">Y5</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="9.232485099999963" x="273.90000000000003" y="66.7508777999999">Y4</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="9.232485099999963" x="311.04" y="66.7508777999999">Y3</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="9.172166699999991" x="348.18" y="66.7508777999999">Y2</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="9.172166699999991" x="385.26" y="66.7508777999999">Y1</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="9.172166699999991" x="422.40000000000003" y="66.7508777999999">Y0</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="20.028724720000014" x="131.16" y="68.3708777999999">SRC2</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.80058169554718pt; fill: #000" textLength="26.766594295989535" x="303.3" y="103.90388926322612">Y3 ..Y0</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.80058169554718pt; fill: #000" textLength="26.76410684598943" x="340.44" y="103.90388926322612">Y3 ..Y0</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="20.024954820000005" x="131.16124047999995" y="103.83057477999989">DEST</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="26.699185780000022" x="154.8" y="103.83087779999994">Y7 .. Y4</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="26.69616985999997" x="191.94" y="103.83087779999994">Y7 .. Y4</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="26.69616985999994" x="232.44" y="103.83087779999994">X7 .. X4</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="26.69616985999994" x="269.58" y="103.83087779999994">X7 .. X4</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="26.69616985999994" x="377.58" y="105.45087779999994">X3 .. X0</text>
<text lengthAdjust="spacingAndGlyphs" style="font-size: 8.414416800000026pt; fill: #000" textLength="26.69616986000011" x="414.72" y="105.45087779999994">X3 .. X0</text></g></svg>
<figcaption><a href="SHUFPS.html#fig-4-26">Figure 4-26</a>. 256-bit VSHUFPS Operation of Selection from Input Quadruplet and Pair-wise Interleaved Result</figcaption></figure>
<h3 id="operation">Operation<a class="anchor" href="SHUFPS.html#operation">
			&para;
		</a></h3>
<pre>Select4(SRC, control) {
CASE (control[1:0]) OF
    0: TMP &larr;SRC[31:0];
    1: TMP &larr;SRC[63:32];
    2: TMP &larr;SRC[95:64];
    3: TMP &larr;SRC[127:96];
ESAC;
RETURN TMP
}
</pre>
<h4 id="vpshufps--evex-encoded-versions-when-src2-is-a-vector-register-">VPSHUFPS (EVEX encoded versions when SRC2 is a vector register)<a class="anchor" href="SHUFPS.html#vpshufps--evex-encoded-versions-when-src2-is-a-vector-register-">
			&para;
		</a></h4>
<pre>(KL, VL) = (4, 128), (8, 256), (16, 512)
TMP_DEST[31:0]&larr;Select4(SRC1[127:0], imm8[1:0]);
TMP_DEST[63:32]&larr;Select4(SRC1[127:0], imm8[3:2]);
TMP_DEST[95:64]&larr;Select4(SRC2[127:0], imm8[5:4]);
TMP_DEST[127:96]&larr;Select4(SRC2[127:0], imm8[7:6]);
IF VL &gt;= 256
    TMP_DEST[159:128]&larr;Select4(SRC1[255:128], imm8[1:0]);
    TMP_DEST[191:160]&larr;Select4(SRC1[255:128], imm8[3:2]);
    TMP_DEST[223:192]&larr;Select4(SRC2[255:128], imm8[5:4]);
    TMP_DEST[255:224]&larr;Select4(SRC2[255:128], imm8[7:6]);
FI;
IF VL &gt;= 512
    TMP_DEST[287:256]&larr;Select4(SRC1[383:256], imm8[1:0]);
    TMP_DEST[319:288]&larr;Select4(SRC1[383:256], imm8[3:2]);
    TMP_DEST[351:320]&larr;Select4(SRC2[383:256], imm8[5:4]);
    TMP_DEST[383:352]&larr;Select4(SRC2[383:256], imm8[7:6]);
    TMP_DEST[415:384]&larr;Select4(SRC1[511:384], imm8[1:0]);
    TMP_DEST[447:416]&larr;Select4(SRC1[511:384], imm8[3:2]);
    TMP_DEST[479:448]&larr;Select4(SRC2[511:384], imm8[5:4]);
    TMP_DEST[511:480]&larr;Select4(SRC2[511:384], imm8[7:6]);
FI;
FOR j&larr;0 TO KL-1
    i&larr;j * 32
    IF k1[j] OR *no writemask*
        THEN DEST[i+31:i]&larr;TMP_DEST[i+31:i]
        ELSE
            IF *merging-masking*
                        ; merging-masking
                THEN *DEST[i+31:i] remains unchanged*
                ELSE *zeroing-masking*
                            ; zeroing-masking
                    DEST[i+31:i] &larr; 0
            FI
    FI;
ENDFOR
DEST[MAXVL-1:VL] &larr; 0
</pre>
<h4 id="vpshufps--evex-encoded-versions-when-src2-is-memory-">VPSHUFPS (EVEX encoded versions when SRC2 is memory)<a class="anchor" href="SHUFPS.html#vpshufps--evex-encoded-versions-when-src2-is-memory-">
			&para;
		</a></h4>
<pre>(KL, VL) = (4, 128), (8, 256), (16, 512)
FOR j&larr;0 TO KL-1
    i&larr;j * 32
    IF (EVEX.b = 1)
        THEN TMP_SRC2[i+31:i]&larr;SRC2[31:0]
        ELSE TMP_SRC2[i+31:i]&larr;SRC2[i+31:i]
    FI;
ENDFOR;
TMP_DEST[31:0]&larr;Select4(SRC1[127:0], imm8[1:0]);
TMP_DEST[63:32]&larr;Select4(SRC1[127:0], imm8[3:2]);
TMP_DEST[95:64]&larr;Select4(TMP_SRC2[127:0], imm8[5:4]);
TMP_DEST[127:96]&larr;Select4(TMP_SRC2[127:0], imm8[7:6]);
IF VL &gt;= 256
    TMP_DEST[159:128]&larr;Select4(SRC1[255:128], imm8[1:0]);
    TMP_DEST[191:160]&larr;Select4(SRC1[255:128], imm8[3:2]);
    TMP_DEST[223:192]&larr;Select4(TMP_SRC2[255:128], imm8[5:4]);
    TMP_DEST[255:224]&larr;Select4(TMP_SRC2[255:128], imm8[7:6]);
FI;
IF VL &gt;= 512
    TMP_DEST[287:256]&larr;Select4(SRC1[383:256], imm8[1:0]);
    TMP_DEST[319:288]&larr;Select4(SRC1[383:256], imm8[3:2]);
    TMP_DEST[351:320]&larr;Select4(TMP_SRC2[383:256], imm8[5:4]);
    TMP_DEST[383:352]&larr;Select4(TMP_SRC2[383:256], imm8[7:6]);
    TMP_DEST[415:384]&larr;Select4(SRC1[511:384], imm8[1:0]);
    TMP_DEST[447:416]&larr;Select4(SRC1[511:384], imm8[3:2]);
    TMP_DEST[479:448]&larr;Select4(TMP_SRC2[511:384], imm8[5:4]);
    TMP_DEST[511:480]&larr;Select4(TMP_SRC2[511:384], imm8[7:6]);
FI;
FOR j&larr;0 TO KL-1
    i&larr;j * 32
    IF k1[j] OR *no writemask*
        THEN DEST[i+31:i]&larr;TMP_DEST[i+31:i]
        ELSE
            IF *merging-masking*
                        ; merging-masking
                THEN *DEST[i+31:i] remains unchanged*
                ELSE *zeroing-masking*
                            ; zeroing-masking
                    DEST[i+31:i] &larr; 0
            FI
    FI;
ENDFOR
DEST[MAXVL-1:VL] &larr; 0
</pre>
<h4 id="vshufps--vex-256-encoded-version-">VSHUFPS (VEX.256 encoded version)<a class="anchor" href="SHUFPS.html#vshufps--vex-256-encoded-version-">
			&para;
		</a></h4>
<pre>DEST[31:0]&larr;Select4(SRC1[127:0], imm8[1:0]);
DEST[63:32]&larr;Select4(SRC1[127:0], imm8[3:2]);
DEST[95:64]&larr;Select4(SRC2[127:0], imm8[5:4]);
DEST[127:96]&larr;Select4(SRC2[127:0], imm8[7:6]);
DEST[159:128]&larr;Select4(SRC1[255:128], imm8[1:0]);
DEST[191:160]&larr;Select4(SRC1[255:128], imm8[3:2]);
DEST[223:192]&larr;Select4(SRC2[255:128], imm8[5:4]);
DEST[255:224]&larr;Select4(SRC2[255:128], imm8[7:6]);
DEST[MAXVL-1:256] &larr;0
</pre>
<h4 id="vshufps--vex-128-encoded-version-">VSHUFPS (VEX.128 encoded version)<a class="anchor" href="SHUFPS.html#vshufps--vex-128-encoded-version-">
			&para;
		</a></h4>
<pre>DEST[31:0]&larr;Select4(SRC1[127:0], imm8[1:0]);
DEST[63:32]&larr;Select4(SRC1[127:0], imm8[3:2]);
DEST[95:64]&larr;Select4(SRC2[127:0], imm8[5:4]);
DEST[127:96]&larr;Select4(SRC2[127:0], imm8[7:6]);
DEST[MAXVL-1:128] &larr;0
</pre>
<h4 id="shufps--128-bit-legacy-sse-version-">SHUFPS (128-bit Legacy SSE version)<a class="anchor" href="SHUFPS.html#shufps--128-bit-legacy-sse-version-">
			&para;
		</a></h4>
<pre>DEST[31:0]&larr;Select4(SRC1[127:0], imm8[1:0]);
DEST[63:32]&larr;Select4(SRC1[127:0], imm8[3:2]);
DEST[95:64]&larr;Select4(SRC2[127:0], imm8[5:4]);
DEST[127:96]&larr;Select4(SRC2[127:0], imm8[7:6]);
DEST[MAXVL-1:128] (Unmodified)
</pre>
<h3 id="intel-c-c++-compiler-intrinsic-equivalent">Intel C/C++ Compiler Intrinsic Equivalent<a class="anchor" href="SHUFPS.html#intel-c-c++-compiler-intrinsic-equivalent">
			&para;
		</a></h3>
<pre>VSHUFPS __m512 _mm512_shuffle_ps(__m512 a, __m512 b, int imm);
</pre>
<pre>VSHUFPS __m512 _mm512_mask_shuffle_ps(__m512 s, __mmask16 k, __m512 a, __m512 b, int imm);
</pre>
<pre>VSHUFPS __m512 _mm512_maskz_shuffle_ps(__mmask16 k, __m512 a, __m512 b, int imm);
</pre>
<pre>VSHUFPS __m256 _mm256_shuffle_ps (__m256 a, __m256 b, const int select);
</pre>
<pre>VSHUFPS __m256 _mm256_mask_shuffle_ps(__m256 s, __mmask8 k, __m256 a, __m256 b, int imm);
</pre>
<pre>VSHUFPS __m256 _mm256_maskz_shuffle_ps(__mmask8 k, __m256 a, __m256 b, int imm);
</pre>
<pre>SHUFPS __m128 _mm_shuffle_ps (__m128 a, __m128 b, const int select);
</pre>
<pre>VSHUFPS __m128 _mm_mask_shuffle_ps(__m128 s, __mmask8 k, __m128 a, __m128 b, int imm);
</pre>
<pre>VSHUFPS __m128 _mm_maskz_shuffle_ps(__mmask8 k, __m128 a, __m128 b, int imm);
</pre>
<h3 class="exceptions" id="simd-floating-point-exceptions">SIMD Floating-Point Exceptions<a class="anchor" href="SHUFPS.html#simd-floating-point-exceptions">
			&para;
		</a></h3>
<p>None</p>
<h3 class="exceptions" id="other-exceptions">Other Exceptions<a class="anchor" href="SHUFPS.html#other-exceptions">
			&para;
		</a></h3>
<p>Non-EVEX-encoded instruction, see Exceptions Type 4.</p>
<p>EVEX-encoded instruction, see Exceptions Type E4NF.</p><footer><p>
		This UNOFFICIAL, mechanically-separated, non-verified reference is provided for convenience, but it may be
		inc<span style="opacity: 0.2">omp</span>lete or b<sub>r</sub>oke<sub>n</sub> in various obvious or non-obvious
		ways. Refer to <a href="https://software.intel.com/sites/default/files/managed/39/c5/325462-sdm-vol-1-2abcd-3abcd.pdf">Intel&reg; 64 and IA-32 Architectures Software Developer&rsquo;s Manual</a> for anything serious.
	</p></footer>
</body></html>